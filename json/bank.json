{
  "name": "bank",
  "viewer": {
    "dataset": {
      "select": "select b.id, b.status_id, s.note as status_name, b.code, b.name, b.bik, b.account from bank b join status s on s.id = b.status_id",
      "select-id": "select b.id, b.status_id, s.note as status_name, b.code, b.name, b.bik, b.account from bank b join status s on s.id = b.status_id where b.id = :id"
    },
    "data-type": "Directory",
    "columns": [
      {
        "datafield": "id",
        "text": "Id",
        "type": "Text",
        "width": 180,
        "visible": false
      },
      {
        "datafield": "status_id",
        "text": "Код состояния",
        "type": "Integer",
        "width": 80,
        "visible": false,
        "allow-grouping": true
      },
      {
        "datafield": "status_name",
        "text": "Состояние",
        "type": "Text",
        "width": 110,
        "visible": false,
        "allow-grouping": true
      },
      {
        "datafield": "code",
        "text": "Код",
        "type": "Text",
        "width": 120
      },
      {
        "datafield": "name",
        "text": "Наименование",
        "type": "Text",
        "hideable": false,
        "auto-size": true
      },
      {
        "datafield": "bik",
        "text": "БИК",
        "type": "Integer"
      },
      {
        "datafield": "account",
        "text": "Корр. счёт",
        "type": "Numeric",
        "width": 180
      }
    ]
  },
  "editor": {
    "dataset": {
      "select": "select id, code, name, bik, account from bank where id = :id",
      "update": "update bank set code = :code, name = :name, bik = :bik, account = :account where id = :id"
    },
    "controls": [
      {
        "type": "TextBox",
        "text": "Код",
        "datafield": "code",
        "label-width": 130,
        "edit-width": 150
      },
      {
        "type": "TextBox",
        "text": "Наименование",
        "datafield": "name",
        "label-width": 130,
        "edit-width": 380
      },
      {
        "type": "Numeric",
        "text": "БИК",
        "datafield": "bik",
        "label-width": 130,
        "decimal-digits": 0
      },
      {
        "type": "Numeric",
        "text": "Корр. счёт",
        "datafield": "account",
        "label-width": 130,
        "edit-width": 180,
        "decimal-digits": 0
      }
    ],
    "conditions": [
      {
        "controls": [ "code", "name", "bik", "account" ],
        "enable": {
          "states": [ "compiled", "is changing" ]
        }
      }
    ]
  }
}